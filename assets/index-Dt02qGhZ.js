var e=Object.defineProperty,t=(t,a,s)=>(((t,a,s)=>{a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s})(t,"symbol"!=typeof a?a+"":a,s),s);import{p as a}from"./phaser-3q6lwrpP.js";function s(e,t){const{x:a,y:s,ancho:i,alto:o,pad:r}=t;e.add.rectangle(a-r,s-r,i+2*r,o+2*r,5259264).setStrokeStyle(3,16750864).setOrigin(0,0)}function i(e,t,a){e.volume=a,e.loop=t,e.play()}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const o=class e{static isAnimaInicial(){return e.animaInicial}static isGameOver(){return e.gameOver}static getScreen(){return e.screen}static getPuntos(){return e.puntos}static getIncPuntos(){return e.incPuntos}static getRecord(){return e.hi}static getCameraScores(){return e.cameraScores}static getFlechaNro(){return e.flecha.lanzamientoNro}static setAnimaInicial(t){e.animaInicial=t}static setGameOver(t){e.gameOver=t}static setPuntos(t){e.puntos=t}static setIncPuntos(t){e.incPuntos=t}static setRecord(t){e.hi=t}static setCameraScores(t,a,s,i,o,r){e.cameraScores.x=t,e.cameraScores.y=a,e.cameraScores.ancho=s,e.cameraScores.alto=i,e.cameraScores.scrollX=o,e.cameraScores.scrollY=r}static setFlechaNro(t){e.flecha.lanzamientoNro=t}};t(o,"controlElegido",{teclado:!1,mobile:!0}),t(o,"screen",{width:800,height:600,numberWidths:4,numberHeights:1}),t(o,"animaInicial",!0),t(o,"gameOver",!1),t(o,"puntos",0),t(o,"incPuntos",0),t(o,"hi",238),t(o,"pausas",{flechaClavada:2800,showTxtInicial:15e3}),t(o,"jugador",{offSetX:10,offSetY:95}),t(o,"flecha",{nroFlechas:10,lanzamientoNro:0,changeCam:!1,iniX:-200,iniY:350,offSetX:12,offSetY:80}),t(o,"diana",{nroElementos:16,x:o.screen.width*(o.screen.numberWidths-2),y:420,ancho:2,alto:200,scaleX:1,scaleY:1}),t(o,"barraFuerza",{x:0,y:60,ancho:400,alto:30,padding:7}),t(o,"depth",{fondoScroll:0,tileSuelo:45,jugador:20,arco:30,flecha:35,diana:40,marcadores:50,textos:60}),t(o,"cameraScores",{x:0,y:0,ancho:800,alto:45,scrollX:0,scrollY:-50});let r=o;class n{constructor(e){this.relatedScene=e}create(e){const{x:t,y:a,texto:s,size:i,style:o,offx:n,offy:c,col:l,blr:h,fillShadow:d,fll:g,family:u,screenWidth:f,multip:m}=e;console.log(e),this.txt=this.relatedScene.add.text(t,a,s,{fontSize:i+"px",fontStyle:o,shadow:{offsetX:n,offsetY:c,color:l,blur:h,fill:d},fill:g,fontFamily:u}),this.txt.setDepth(r.depth.textos),this.centrar(s,f,m),this.crear_tweens(s),console.log(this.txt)}crear_tweens(e){[" Preparado... "].forEach((t=>{t.slice(0,5)===e.slice(0,5)&&this.relatedScene.tweens.add({targets:this.txt,alpha:0,ease:"easeOut",duration:1500})})),[" Tiro con Arco "].forEach((t=>{t===e&&this.relatedScene.tweens.add({targets:this.txt,y:Math.floor(this.relatedScene.sys.game.config.height/5),ease:"Elastic",duration:2e3})}))}centrar(e,t,a){[" Tiro con Arco "," Game Over "].forEach((s=>{e.slice(0,5)===s.slice(0,5)&&this.txt.setX(function(e,t){return console.log(e.width),Math.floor(t/2-e.width/2)}(this.txt,t*a))}))}get(){return this.txt}}const c=class e extends a.Scene{constructor(){super({key:"iniciar"})}init(){this.txt=new n(this)}create(){const t=Math.floor(e.WIDTH/6.2),a=Math.floor(e.HEIGHT/3);this.txt.create({x:t,y:a,texto:" Toque pantalla o haga \n \n click para comenzar... ",size:50,style:"500",oofx:1,offy:1,col:"#fff",blr:7,fillShadow:!0,fll:"#ffa",family:"verdana, arial, sans-serif",screenWidth:e.WIDTH,multip:1}),this.input.on("pointerdown",(()=>this.scene.start("menuprincipal"))),console.log(this.txt)}};t(c,"WIDTH",800),t(c,"HEIGHT",600);let l=c;class h{constructor(e){this.relatedScene=e}create(){this.fondoscroll=this.relatedScene.add.image(-this.relatedScene.sys.game.config.width,0,"fondo-scroll").setOrigin(0,0).setDepth(r.depth.fondoScroll),console.log(this.fondoscroll)}get(){return this.fondoscroll}}class d{constructor(e){this.relatedScene=e}create(e,t){const a=this.relatedScene.sys.game.config.width,s=this.relatedScene.sys.game.config.height;let i=1.5;"game"===e&&(i=1.25),t&&(i=3),this.boton=this.relatedScene.add.sprite(Math.floor(a/2),Math.floor(s/i),"boton-nueva-partida").setInteractive(),this.boton.setScale(.6).setAngle(1).setDepth(30),this.boton.on("pointerover",(()=>{this.boton.setScale(.7)})),this.boton.on("pointerout",(()=>{this.boton.setScale(.6)})),this.boton.on("pointerdown",(t=>{this.relatedScene.scene.start(e),console.log(t)})),this.relatedScene.tweens.add({targets:this.boton,angle:359,ease:"Elastic",yoyo:!0,hold:2e3,duration:3e3,repeat:-1})}get(){return this.boton}}class g{constructor(e,t){this.relatedScene=e,this.direccion=t}create(){this.relatedScene.sys.game.config.width,this.relatedScene.sys.game.config.height,this.boton=this.relatedScene.add.image(this.direccion.x,this.direccion.y,this.direccion.id).setInteractive(),this.boton.setScale(this.direccion.scX,this.direccion.scY),this.boton.setAngle(this.direccion.ang).setFrame(0).setDepth(50),this.boton.setX(this.direccion.x).setY(this.direccion.y),this.boton.on("pointerover",(()=>{this.boton.setScale(this.direccion.scX+.1,this.direccion.scY+.1)})),this.boton.on("pointerout",(()=>{this.boton.setScale(this.direccion.scX,this.direccion.scY)})),this.boton.on("pointerdown",(()=>{this.relatedScene.scale.isFullscreen?this.relatedScene.scale.stopFullscreen():this.relatedScene.scale.startFullscreen()}))}}class u extends a.Scene{constructor(){super({key:"menuprincipal"})}init(){r.setPuntos(0),this.fondoscroll=new h(this),this.botoninicio=new d(this),this.txt=new n(this)}preload(){this.add.text(Math.floor(this.sys.game.config.width/3),Math.floor(this.sys.game.config.height/2)," Cargando...",{fontSize:"50px",fill:"#ffa",fontFamily:"verdana, arial, sans-serif"}),this.add.rectangle(512,384,468,32).setStrokeStyle(1,16777215);const e=this.add.rectangle(282,384,4,28,16776960);var t;this.load.on("progress",(t=>{e.width=4+460*t})),(t=this).load.setPath("assets"),t.load.image("fondo-scroll","./img/fondo-cielo3200x600.png"),t.load.image("boton-nueva-partida","./img/boton-start.png"),t.load.spritesheet("boton-fullscreen","./img/boton-fullscreen.png",{frameWidth:64,frameHeight:64}),t.load.image("archery-img","./img/archeryImg.png"),t.load.image("tile-suelo","./img/tile-suelo.png"),t.load.image("barra-fuerza","./img/barra-energia.png"),t.load.image("diana","./img/diana-tiroArco.png"),t.load.image("arco","./img/arco-v2.png"),t.load.image("flecha","./img/flecha-v2.png"),t.load.image("flecha-c","./img/flecha-c.png"),t.load.spritesheet("jugador","./img/Ssheet_enemigo.png",{frameWidth:80,frameHeight:110}),t.load.audio("mario-tuberias","./audio/mario-tuberias.mp3"),t.load.audio("aplausos-birdie","./audio/aplausosbirdie.mp3"),t.load.audio("aplausos-eagle","./audio/aplausoseagle.mp3"),t.load.audio("arrow1","./audio/arrow1.mp3"),t.load.audio("arrow2","./audio/arrow2.mp3"),t.load.audio("abucheo","./audio/boooh.mp3")}create(){this.sonidoMarioTuberias=this.sound.add("mario-tuberias"),this.fondoscroll.create(),this.add.image(this.sys.game.config.width/2,this.sys.game.config.height/1.6,"archery-img");const e=Math.floor(this.sys.game.config.width/5.2);this.txt.create({x:e,y:-200,texto:" Tiro con Arco ",size:100,style:"bold",oofx:1,offy:1,col:"#fff",blr:15,fillShadow:!0,fll:"#e81",family:"verdana, arial, sans-serif",screenWidth:this.sys.game.config.width,multip:1}),this.add.timeline([{at:1800,run:()=>{this.botoninicio.create("prenivel",!1)}}]).play(),i(this.sonidoMarioTuberias,!1,.7),console.log(this.txt)}}class f{constructor(e){this.relatedScene=e}create(){this.jugador=this.relatedScene.physics.add.sprite(this.relatedScene.sys.game.config.width/r.jugador.offSetX,this.relatedScene.sys.game.config.height-r.jugador.offSetY,"jugador"),this.jugador.setData("fin-pulsacion",!1),this.jugador.setData("ini-pulsacion",!1),this.jugador.setData("pow",.1),this.jugador.setData("inc-pow",.05),this.jugador.setData("multiplicador",300),this.jugador.setCollideWorldBounds(!0),this.jugador.setVisible(!1).setFrame(11).setDepth(r.depth.jugador),this.controles=this.relatedScene.input.keyboard.createCursorKeys(),console.log(this.jugador)}update(){r.isGameOver()||(this.incrementando_fuerza_pulsando(),this.pulsacion_inicial(),this.soltar_lanzarFlecha())}incrementando_fuerza_pulsando(){(this.jugador.getData("ini-pulsacion")&&!this.jugador.getData("fin-pulsacion")&&r.controlElegido.teclado||this.jugador.getData("ini-pulsacion")&&!this.jugador.getData("fin-pulsacion")&&this.relatedScene.input.activePointer.isDown&&r.controlElegido.mobile)&&(console.log("...sum"),this.jugador.setData("pow",this.jugador.getData("pow")+this.jugador.getData("inc-pow")),this.relatedScene.barrafuerza.get().setScale(this.jugador.getData("pow"),1))}pulsacion_inicial(){this.jugador.body.touching.down&&!this.jugador.getData("fin-pulsacion")&&!this.jugador.getData("ini-pulsacion")&&"pre"===this.relatedScene.flecha.get().getChildren()[r.flecha.lanzamientoNro].getData("estado")&&(this.controles.space.isDown&&r.controlElegido.teclado||this.relatedScene.input.activePointer.isDown&&r.controlElegido.mobile)&&(console.log("pulsando..."),this.jugador.setData("ini-pulsacion",!0))}soltar_lanzarFlecha(){this.jugador.body.touching.down&&!this.jugador.getData("fin-pulsacion")&&this.jugador.getData("ini-pulsacion")&&"pre"===this.relatedScene.flecha.get().getChildren()[r.flecha.lanzamientoNro].getData("estado")&&(this.controles.space.isUp&&r.controlElegido.teclado||!this.relatedScene.input.activePointer.isDown&&r.controlElegido.mobile)&&(this.jugador.setData("fin-pulsacion",!0),this.jugador.setData("ini-pulsacion",!1),this.relatedScene.flecha.get().getChildren()[r.flecha.lanzamientoNro].setData("estado","lanzando"),this.relatedScene.flecha.get().getChildren()[r.flecha.lanzamientoNro].setVelocityX(this.jugador.getData("pow")*this.jugador.getData("multiplicador")).setVelocityY(-this.jugador.getData("pow")*(this.jugador.getData("multiplicador")-50)),this.relatedScene.flecha.get().getChildren()[r.flecha.lanzamientoNro].body.setAllowGravity(!0),console.log("pulsado!"),console.log(this.jugador.getData("pow")*this.jugador.getData("multiplicador")),this.jugador.setData("pow",.1),i(this.relatedScene.sonidoArrow1,!1,.9))}get(){return this.jugador}}class m{constructor(e){this.relatedScene=e}create(){this.jugadoranima=this.relatedScene.physics.add.sprite(this.relatedScene.diana.get().getChildren()[0].x-100,this.relatedScene.sys.game.config.height-r.jugador.offSetY,"jugador"),this.jugadoranima.setCollideWorldBounds(!0),this.jugadoranima.setFrame(10).setFlipX(!0).setDepth(r.depth.jugador),this.jugadoranima.setVelocityX(-200),this.relatedScene.anims.create({key:"jugador-anima-inicial",frames:this.relatedScene.anims.generateFrameNumbers("jugador",{frames:[9,10]}),frameRate:10,repeat:-1}),this.jugadoranima.anims.play("jugador-anima-inicial"),console.log(this.jugadoranima)}update(){this.jugadoranima.x<=this.relatedScene.sys.game.config.width/r.jugador.offSetX&&(r.setAnimaInicial(!1),this.jugadoranima.destroy(),this.relatedScene.txt.get().setVisible(!0),this.relatedScene.jugador.get().setVisible(!0),this.relatedScene.arco.get().setVisible(!0),this.relatedScene.flecha.get().getChildren()[0].setVisible(!0),this.relatedScene.cameras.main.startFollow(this.relatedScene.flecha.get().getChildren()[r.flecha.lanzamientoNro]))}get(){return this.jugadoranima}}class p extends a.Scene{constructor(){super({key:"prenivel"})}init(){r.setPuntos(0),r.setIncPuntos(0),r.setAnimaInicial(!0),r.setGameOver(!1),r.setFlechaNro(0),this.fondoscroll=new h(this),this.txt=new n(this),this.botoninicio=new d(this)}create(){this.fondoscroll.create();const e=Math.floor(this.sys.game.config.width/5.2),t=Math.floor(this.sys.game.config.height/4);this.txt.create({x:e,y:t,texto:" Pulsa y deja pulsada la tecla\n Space o si utilizas un dispositivo\n tactil toca y deja presionada\n para tirar una flecha.",size:30,style:"bold",oofx:1,offy:1,col:"#fff",blr:15,fillShadow:!0,fll:"#3a1",family:"verdana, arial, sans-serif",screenWidth:this.sys.game.config.width,multip:1}),this.botoninicio.create("game",!1),console.log(this.txt)}}class y{constructor(e){this.relatedScene=e}create(){s(this.relatedScene,{x:r.barraFuerza.x,y:r.barraFuerza.y,ancho:r.barraFuerza.ancho,alto:r.barraFuerza.alto,pad:r.barraFuerza.padding}),this.barrafuerza=this.relatedScene.add.sprite(r.barraFuerza.x,r.barraFuerza.y,"barra-fuerza"),this.barrafuerza.setOrigin(0,0).setScale(.1,1).setTint(65312),this.barrafuerza.setX(r.barraFuerza.x).setY(r.barraFuerza.y)}get(){return this.barrafuerza}}class S{constructor(e){this.relatedScene=e}create(e,t){this.arco=this.relatedScene.physics.add.sprite(e,t,"arco"),this.arco.setVisible(!1).setScale(1,.8).setDepth(r.depth.arco),this.arco.body.setAllowGravity(!1),console.log(this.arco)}update(e,t){const a=e+1,s=t+12;this.arco.setX(a).setY(s)}get(){return this.arco}}class b{constructor(e){this.relatedScene=e}create(){this.flecha=this.relatedScene.physics.add.group();for(let e=0;e<r.flecha.nroFlechas;e++)this.flecha.create(r.flecha.iniX,r.flecha.iniY+20*e,"flecha");this.flecha.children.iterate(((e,t)=>{e.setScale(1,1).setAngle(0).setDepth(r.depth.flecha),e.setVelocityX(0).setVelocityY(0),e.setCircle(2,98,2),e.setCollideWorldBounds(!0),e.body.setAllowGravity(!1),e.setData("ajuste-clavar-diana",20),e.setData("angulo",7),e.setData("ajuste-division-angulo",20),e.setData("estado","null"),0===t&&e.setData("estado","pre").setVisible(!1)})),s(this.relatedScene,{x:r.flecha.iniX-50,y:r.flecha.iniY,ancho:100,alto:20*r.flecha.nroFlechas,pad:10}),console.log(this.flecha)}update(){this.flecha.children.iterate((e=>{"pre"===e.getData("estado")&&(e.setX(this.relatedScene.sys.game.config.width/10+r.flecha.offSetX),e.setY(this.relatedScene.sys.game.config.height-r.flecha.offSetY)),"lanzando"===e.getData("estado")&&e.setAngle(e.body.velocity.y/e.getData("ajuste-division-angulo"))}))}get(){return this.flecha}}class w{constructor(e){this.relatedScene=e}create(){const e=Phaser.Math.Between(0,this.relatedScene.sys.game.config.width);this.diana=this.relatedScene.physics.add.group();for(let t=0;t<r.diana.nroElementos;t++)this.diana.create(r.diana.x-e+t*r.diana.ancho,r.diana.y,"diana");this.coloresAreasImpacto=[16776960,16776960,16776960,16776960,16639,16639,16639,16639,15601664,15601664,15601664,15601664,1092128,1092128,1092128,1092128],this.diana.children.iterate(((e,t)=>{e.setData("index",t),e.setScale(1,t/10*1),e.setDepth(r.depth.diana).setTint(this.coloresAreasImpacto[t]),e.setVelocityX(0).setVelocityY(0),e.body.setAllowGravity(!1),e.setImmovable(!0)})),console.log(this.diana)}update(){}get(){return this.diana}}class x{constructor(e,t){this.relatedScene=e,this.datos=t}create(){const{x:e,y:t,size:a,txt:s,color:i,id:o}=this.datos;let n="";0===o&&(n=`${s}${r.getPuntos()}`),1===o&&(n=`${s}${r.getIncPuntos()}`),2===o&&(n=`${s}${r.getRecord()}`),this.marcador=this.relatedScene.add.text(e,t,n,{fontSize:a+"px",fill:i,fontFamily:"verdana, arial, sans-serif",fontStyle:"bold"}),this.marcador.setDepth(r.depth.marcadores),console.log(this.marcador)}update(e,t){this.marcador.setText(`${e}${t}`)}get(){return this.marcador}}class j{constructor(e){this.relatedScene=e}create(){const e=this.relatedScene.sys.game.config.height;this.tilesuelo=this.relatedScene.physics.add.sprite(-this.relatedScene.sys.game.config.width/2,e,"tile-suelo"),this.tilesuelo.setOrigin(0,.5).setScale(45,1).setDepth(r.depth.tileSuelo),this.tilesuelo.setImmovable(!0),this.tilesuelo.body.setAllowGravity(!1),console.log(this.tilesuelo)}get(){return this.tilesuelo}}t(j,"sizeXY",[64,64]);class D extends a.Scene{constructor(){super({key:"game"})}init(){this.fondoscroll=new h(this),this.tilesuelo=new j(this),this.barrafuerza=new y(this),this.jugador=new f(this),this.arco=new S(this),this.flecha=new b(this),this.diana=new w(this),this.jugadoranima=new m(this);const e=this.sys.game.config.width;this.sys.game.config.height,this.marcadorPtos=new x(this,{x:10,y:-50,size:35,txt:" Puntos: ",color:"#adf",id:0}),this.marcadorIncPtos=new x(this,{x:Math.floor(e/2.8),y:-50,size:35,txt:" ",color:"#aff",id:0}),this.marcadorHi=new x(this,{x:Math.floor(e/2),y:-50,size:35,txt:" Record: ",color:"#8df",id:2}),this.botonfullscreen=new g(this,{id:"boton-fullscreen",x:Math.floor(this.sys.game.config.width/1.1),y:-25,ang:0,scX:.8,scY:.6}),this.botonrejugar=new d(this),this.txt=new n(this)}preload(){}create(){this.sonidos_set(),this.set_camerasMain(),this.set_cameras_marcadores(),this.fondoscroll.create(),this.tilesuelo.create(),this.barrafuerza.create(),this.jugador.create(),this.arco.create(this.jugador.get().x,this.jugador.get().y),this.flecha.create(),this.diana.create(),this.jugadoranima.create(),this.marcadorPtos.create(),this.marcadorIncPtos.create(),this.marcadorHi.create(),this.botonfullscreen.create(),this.texto_preparado(),this.mouse_showXY={create:this.add.text(10,50," ",{fill:"#111"}),show_mouseXY:!0},this.cameras.main.startFollow(this.jugadoranima.get()),this.crear_colliders()}update(){r.isAnimaInicial()&&this.jugadoranima.update(),this.jugador.update(),this.arco.update(this.jugador.get().x,this.jugador.get().y),this.flecha.update()}sonidos_set(){this.sonidoAplausosBirdie=this.sound.add("aplausos-birdie"),this.sonidoAplausosEagle=this.sound.add("aplausos-eagle"),this.sonidoAbucheo=this.sound.add("abucheo"),this.sonidoArrow1=this.sound.add("arrow1"),this.sonidoArrow2=this.sound.add("arrow2")}set_camerasMain(){const{numberWidths:e,numberHeights:t}=r.getScreen();this.cameras.main.setBounds(-this.sys.game.config.width,0,Math.floor(this.sys.game.config.width*e),Math.floor(this.sys.game.config.height*t)),this.physics.world.setBounds(-this.sys.game.config.width,0,Math.floor(this.sys.game.config.width*e),Math.floor(this.sys.game.config.height*t)),console.log(this.physics.world)}set_cameras_marcadores(){var{x:e,y:t,ancho:a,alto:s,scrollX:i,scrollY:o}=r.getCameraScores();this.mapa_scores=this.cameras.add(e,t,a,s).setZoom(.9).setName("view-scores").setAlpha(1).setOrigin(0,0),this.mapa_scores.scrollX=i,this.mapa_scores.scrollY=o,this.mapa_scores.setBackgroundColor(43707),console.log(this.mapa_scores)}nextFlecha_cambioCamera(e,t,a){"clavada"===e.getData("estado")||r.isGameOver()||(setTimeout((()=>{r.flecha.lanzamientoNro++,console.log(r.flecha.lanzamientoNro),this.barrafuerza.get().setScale(.1,1),r.flecha.lanzamientoNro>=10?(console.log("game over"),r.setGameOver(!0),this.suenan_aplausos(e)):(this.flecha.get().getChildren()[r.flecha.lanzamientoNro].setData("estado","pre"),this.cameras.main.startFollow(this.flecha.get().getChildren()[r.flecha.lanzamientoNro]))}),r.pausas.flechaClavada),e.setData("estado","clavada"),e.setVelocityX(0).setVelocityY(0),e.body.setAllowGravity(!1),a&&this.impacto_diana_sumarPtos(e,t),this.jugador.get().setY(this.sys.game.config.height-r.jugador.offSetY),this.jugador.get().setData("fin-pulsacion",!1))}impacto_diana_sumarPtos(e,t){i(this.sonidoArrow2,!1,.9),e.setX(e.x+e.getData("ajuste-clavar-diana"));const a=5*(r.diana.nroElementos-t)+Phaser.Math.Between(0,2);r.setIncPuntos(a),this.marcadorIncPtos.update(" ",a),r.setPuntos(r.getPuntos()+a),this.marcadorPtos.update(" Puntos: ",r.getPuntos()),console.log(t,a)}suenan_aplausos(e){r.getPuntos()>=400?i(this.sonidoAplausosEagle,!1,.9):r.getPuntos()>=200?i(this.sonidoAplausosBirdie,!1,.9):i(this.sonidoAbucheo,!1,.9),r.getPuntos()>r.getRecord()&&r.setRecord(r.getPuntos()),setTimeout((()=>{this.botonrejugar.create("prenivel",!0),this.botonrejugar.get().setX(e.x)}),r.pausas.flechaClavada)}crear_colliders(){this.physics.add.collider(this.jugador.get(),this.tilesuelo.get()),this.physics.add.collider(this.jugadoranima.get(),this.tilesuelo.get()),this.physics.add.collider(this.flecha.get(),this.tilesuelo.get(),((e,t)=>this.nextFlecha_cambioCamera(t,0,!1))),this.physics.add.collider(this.flecha.get(),this.diana.get(),((e,t)=>this.nextFlecha_cambioCamera(e,t.getData("index"),!0)))}texto_preparado(){const e=Math.floor(this.sys.game.config.width/2.2),t=Math.floor(this.sys.game.config.height/2);this.txt.create({x:e,y:t,texto:" Pulse y mantenga pulsado \n para tirar una flecha... ",size:30,style:"bold",oofx:1,offy:1,col:"#fff",blr:15,fillShadow:!0,fll:"#3a1",family:"verdana, arial, sans-serif",screenWidth:this.sys.game.config.width,multip:1}),this.txt.get().setVisible(!1).setX(0),setTimeout((()=>this.txt.get().destroy()),r.pausas.showTxtInicial)}pointer_showXY({create:e,show_mouseXY:t}){if(!t)return;const a=this.input.activePointer;e.setText([`x: ${a.worldX}`,`y: ${a.worldY}`]).setX(this.jugador.get().x).setY(this.jugador.get().y-170)}}const v={type:Phaser.AUTO,width:800,height:600,parent:"game-container",scene:[l,u,p,D],physics:{default:"arcade",arcade:{gravity:{y:700},debug:!1}},scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH}};new Phaser.Game(v);
